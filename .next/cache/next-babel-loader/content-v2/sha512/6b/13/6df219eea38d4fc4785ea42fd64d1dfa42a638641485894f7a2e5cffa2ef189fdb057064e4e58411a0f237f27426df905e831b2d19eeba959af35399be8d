{"ast":null,"code":"// Helper method to wait for a middleware to execute before continuing\n// And to throw an error when an error happens in a middleware\nexport default function initMiddleware(middleware) {\n  return (req, res) => new Promise((resolve, reject) => {\n    middleware(req, res, result => {\n      if (result instanceof Error) {\n        return reject(result);\n      }\n\n      return resolve(result);\n    });\n  });\n}","map":null,"metadata":{},"sourceType":"module"}